---
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SEO from '../components/SEO.astro';

export interface Props {
	title: string;
	description?: string;
	image?: string;
	keywords?: string;
}

const { title, description, image, keywords } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Tailwind CSS with crossorigin -->
  <script src="https://cdn.tailwindcss.com" crossorigin="anonymous"></script>
        
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Exo+2:wght@300;400;500;600&family=Space+Mono:wght@400;700&family=Inter:wght@400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet" crossorigin="anonymous">
   
  <!-- Tailwind Configuration - Wait for Tailwind to load -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof tailwind !== 'undefined') {
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                brand: {
                  50: '#f0f9ff',
                  100: '#e0f2fe',
                  200: '#bae6fd',
                  300: '#7dd3fc',
                  400: '#38bdf8',
                  500: '#0ea5e9',
                  600: '#0284c7',
                  700: '#0369a1',
                  800: '#075985',
                  900: '#0c4a6e',
                }
              },
              fontFamily: {
                'display': ['Outfit', 'Inter', 'system-ui', 'sans-serif'],
                'sans': ['Inter', 'system-ui', 'sans-serif'],
              }
            }
          }
        }
      }
    });
  </script>
   
  <!-- Updated CSP with specific domains -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://static.cloudflareinsights.com https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.tailwindcss.com https:; font-src 'self' https://fonts.gstatic.com https:; img-src 'self' data: https:; connect-src 'self' https:; object-src 'none'; base-uri 'self';">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
   
  <SEO 
    title={title}
    description={description}
    image={image}
    keywords={keywords}
  />

  <!-- LocalBusiness Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "@id": "https://chilterncomputers.net/#organization",
    "name": "Chiltern Computers",
    "alternateName": "Chiltern Computers Harold Hill",
    "description": "Professional computer repair and IT support services in Harold Hill, Romford. Expert PC repair, laptop repair, virus removal & data recovery services.",
    "url": "https://chilterncomputers.net",
    "telephone": "+447971331814",
    "foundingDate": "2004",
    "priceRange": "££",
    
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Harold Hill",
      "addressLocality": "Romford", 
      "addressRegion": "Essex",
      "postalCode": "RM3",
      "addressCountry": "GB"
    },
    
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "51.5984",
      "longitude": "0.2394"
    },
    
    "openingHours": [
      "Mo-Su 09:00-21:00"
    ],
    
    "serviceArea": [
      {
        "@type": "City",
        "name": "Harold Hill"
      },
      {
        "@type": "City", 
        "name": "Romford"
      },
      {
        "@type": "City",
        "name": "Hornchurch"
      },
      {
        "@type": "City",
        "name": "Upminster"
      },
      {
        "@type": "City",
        "name": "Rainham"
      }
    ],
    
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Computer Repair Services",
      "itemListElement": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Computer Repair",
            "description": "Professional desktop and laptop repair services"
          }
        },
        {
          "@type": "Offer", 
          "itemOffered": {
            "@type": "Service",
            "name": "Gaming PC Builds",
            "description": "Custom gaming computers and high-performance workstations"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service", 
            "name": "New & Refurbished PCs",
            "description": "Quality computers for home and business use"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Virus Removal", 
            "description": "Malware and virus removal services"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Data Recovery",
            "description": "Recovery of files from failed hard drives"
          }
        }
      ]
    },
    
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.9",
      "reviewCount": "150",
      "bestRating": "5",
      "worstRating": "1"
    },
    
    "review": [
      {
        "@type": "Review",
        "reviewRating": {
          "@type": "Rating",
          "ratingValue": "5",
          "bestRating": "5"
        },
        "author": {
          "@type": "Person",
          "name": "Sarah J."
        },
        "reviewBody": "Excellent service! Fixed my laptop quickly and reasonably priced. Highly recommend!"
      },
      {
        "@type": "Review",
        "reviewRating": {
          "@type": "Rating",
          "ratingValue": "5",
          "bestRating": "5"
        },
        "author": {
          "@type": "Person",
          "name": "Tom H."
        },
        "reviewBody": "Great repair service. Professional work and my PC runs like new!"
      }
    ],
    
    "sameAs": [
      "https://www.yelp.co.uk/biz/chiltern-computers-romford",
      "https://share.google/bYl4ovRxYa7RygxX8"
    ],
    
    "logo": "https://chilterncomputers.net/logo_homepage.webp",
    "image": ["https://chilterncomputers.net/logo_homepage.webp"]
  }
  </script>
</head>
<body class="min-h-screen bg-gray-50">
	<Header />
	<main>
		<slot />
	</main>
	<Footer />
</body>
</html>